!function(e){var t={};function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){function o(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}
/*!
 * Galaxy Event Tracking
 * V.0.0.1
 *
 */(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(){return $("html").data("template")}function a(){return document.location.pathname+document.location.hash}var r={init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.TRACKING_VERSION="0.0.1",this.setBookingEngineRegEx(),this.setSocialLinksRegEx(),this.pushInfoToDataLayer({cmsUsed:"tws",productPurchased:"custom prime",pageSection:n(),fullURL:decodeURIComponent(document.location.href).replace(/([a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/,"")}),$(function(){if(window.galaxyInfo){var t=window.galaxyInfo,o={};o.websiteLanguage=t.local,o.tvs=t.tvs?"tvs_yes":"tvs_no",e.pushInfoToDataLayer(o)}}),"404"==n()&&this.sender(null,{eventCategory:"Error",eventAction:"Not found 404",eventLabel:"${pageName}"});var a=$(document),r=t.reduce(function(e,t){var o=e.validEvents,n=e.errorEvents;return(t.selector||t.listener)&&t.content.eventCategory&&t.content.eventAction&&t.content.eventLabel?o.push(t):n.push(t),{validEvents:o,errorEvents:n}},{validEvents:[],errorEvents:[]}),i=r.validEvents,c=r.errorEvents;0!==c.length&&console.error(Error("Bad events config: \n ".concat(JSON.stringify(c,null,4)))),[].concat(o(i),o([{selector:'a[href*="//"]',condition:function(e){return this.socialLinksRegEx.test(e.attr("href"))},content:{eventCategory:"external_links",eventAction:"social_networks",eventLabel:"Clicked on: ${pageSection}_${pageName}_${link}_${pagePosition}"}},{selector:'a[href*="mailto"]',content:{eventCategory:"Emailing",eventAction:"Click mail to: ${email}",eventLabel:"Clicked on: ${pageSection}_${pageName}_${pagePosition}"}},{selector:'a[href*="tel:"]',content:{eventCategory:"Phone Call",eventAction:"Click tel: ${phone}",eventLabel:"Clicked on: ${pageSection}_${pageName}_${pagePosition}"}},{selector:'a[href*=".pdf"]',content:{eventCategory:"Download",eventAction:"PDF",eventLabel:"${link}"}},{selector:'a[href*="maps.google"]',content:{eventCategory:"contact",eventAction:"address:_${link}",eventLabel:"Clicked on: ${pageSection}_${pageName}_${pagePosition}"}},{selector:".js-galaxy-logo",content:{eventCategory:"user_behavior",eventAction:"clicks_on_logo",eventLabel:"Clicked on: ${pageSection}_${pageName}_${pagePosition}"}},{selector:".js-galaxy-book-now-gms",content:{eventCategory:"Click to BE",eventAction:"GMS Portal Private Offers",eventLabel:"Booked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}"}},{selector:".js-galaxy-book-gms",content:{eventCategory:"Click to BE",eventAction:"GMS Portal General Dashboard",eventLabel:"Booked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}"}},{selector:".js-galaxy-book-again-gms",content:{eventCategory:"Click to BE",eventAction:"GMS Portal Book Again",eventLabel:"Booked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}"}},{selector:".js-galaxy-register",content:{eventCategory:"Loyalty program",eventAction:"Register",eventLabel:"Step1_clicked on: ${pageName}_${platformRegister}"}},{selector:".js-galaxy-register-submit",content:{eventCategory:"Loyalty program",eventAction:"Register",eventLabel:"Step2_clicked on: ${pageName}_${platformRegister}"}},{selector:".js-galaxy-login",content:{eventCategory:"Loyalty program",eventAction:"Log in",eventLabel:"Signed on: ${pageName}"}},{selector:'a[href="#top"]',content:{eventCategory:"user_behavior",eventAction:"back_to_top",eventLabel:"Clicked on: ${pageSection}_${pageName}_${buttonText}_${backgroundColor}"}},{selector:".js-galaxy-footer a",condition:function(e){return e.attr("href")&&"#"!==e.attr("href").charAt(0)&&null==e.attr("href").match(this.socialLinksRegEx)},content:{eventCategory:"user_behavior",eventAction:"clicks_on_footer_links",eventLabel:"Clicked on: ${pageSection}_${pageName}_${link}"}},{selector:".js-galaxy-newsletter-step-1",listener:"submit",content:{eventCategory:"Newsletter",eventAction:"New subscriber",eventLabel:"Submit Step 1"}},{selector:".js-galaxy-book-body",content:{eventCategory:"Click to BE",eventAction:"Book Now Body Button",eventLabel:"Clicked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}_${getDataAttr(title)}/${getDataAttr(module)}"}},{selector:".js-galaxy-book-room",content:{eventCategory:"Click to BE",eventAction:"Room Booking Mask",eventLabel:"Clicked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}_${getDataAttr(title)}"}},{selector:".js-galaxy-book-offer",content:{eventCategory:"Click to BE",eventAction:"Offer Booking Mask",eventLabel:"Clicked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}_${getDataAttr(title)}"}},{selector:".js-galaxy-book-maps",content:{eventCategory:"Click to BE",eventAction:"Book on Maps",eventLabel:"Clicked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}_${getDataAttr(title)}/${getDataAttr(module)}"}},{selector:".js-galaxy-language",content:{eventCategory:"user_behavior",eventAction:"language",eventLabel:"Clicked on: ${pageSection}_${pageName}_${getDataAttr(language)}"}},{selector:"a",condition:function(e){return e[0].className.indexOf("js-galaxy-book")<0&&this.bookingEnginesRegEx.test(e[0].href)&&!/.pdf|tel:|mailto:/g.test(e[0].href)},content:{eventCategory:"Click to BE",eventAction:"Book Now Link",eventLabel:"Clicked on: ${pageSection}_${pageName}_${buttonText}_${pagePosition}"}},{listener:"GalaxyEventForm",content:{eventCategory:"Form submission",eventAction:"${formType}",eventLabel:"Clicked on: ${pageSection}_${pageName}_${pagePosition}"}},{listener:"GalaxyEventFormError",content:{eventCategory:"Error",eventAction:"Form submission",eventLabel:"Submitted on: ${pageSection}_${pageName}_${pagePosition}_${inputError}"}}])).forEach(function(t){a.on(t.listener||"click",t.selector,function(o,n){var a=t.selector?$(o.currentTarget):$(o.target);t.condition&&!t.condition.call(e,a)||e.sender(n,t.content,a)})}),a.on("click","a",function(t){var o=$(t.currentTarget),n=o.attr("href"),a=function(){var e=window[window.GoogleAnalyticsObject],t="";return e&&(t=e.getAll()[0].get("linkerParam")),t}();e.bookingEnginesRegEx.test(n)&&!/.pdf|tel:|mailto:/g.test(n)&&a&&o.attr("href",function(e,t){return t.indexOf("?")>-1?t+"&"+a:t+"?"+a})})},utils:{pageSection:n,pageName:a,getDataAttr:function(e,t){for(var o=arguments.length,n=new Array(o>2?o-2:0),a=2;a<o;a++)n[a-2]=arguments[a];return n.reduce(function(e,o){var n=t.data(o);return e+=n?"".concat(n,"_"):""},"").slice(0,-1)},formType:function(e,t){var o=t.data("type");return o&&"rfp"===o.toLowerCase()?"RFP form":o||"Contact form"},platformRegister:function(e,t){return t?t.data("analytics-provider"):null},email:function(e,t){return t.attr("href").replace("mailto:","").split("?")[0]},phone:function(e,t){return t.attr("href").replace("tel:","")},link:function(e,t){return t.attr("href")},buttonText:function(e,t){return t.text().trim()||t.val().trim()},pagePosition:function(e,t){return t.is("form")&&(t=t.find(":submit")),this.calculateElementPosition(t)},inputError:function(e,t){if(vEl=t[0],vEl){var o=[];for(var n in vEl.validity)!0===vEl.validity[n]&&o.push(n);return vEl.name+" "+o.join("-")}return"not_applicable"},backgroundColor:function(e,t){return t.css("backgroundColor").replace(/,/g,".")}},sender:function(e,t,n){var a=this,r={};Object.keys(t).forEach(function(i){var c=t[i].match(/\$\{(.*?)\}/g);if(Array.isArray(c))return r[i]=c.reduce(function(t,r){var i=r.substring(2).slice(0,-1),c=[e,n];return/(.*?)+\((.*?)+\)/.test(i)&&(c.push.apply(c,o(i.match(/\((.*?)+\)/)[0].substring(1).slice(0,-1).split(",").map(function(e){return e.trim()}))),i=i.replace(/\((.*?)+\)/,"")),a.utils[i]?t.replace(r,a.utils[i].apply(a,c)):(console.log("function ".concat(i," is undefined")),t.replace(r,""))},t[i]);r[i]=t[i]}),this.pushToDataLayer(r)},debug:!0,bookingEngine:null,bookingEnginesRegEx:null,bookingEnginesRegExList:["accorhotels.com","bestwestern.com","book.grabrooms.com","candlewoodsuites.com","cbooking.de","choicehotels.com","crowneplaza.com","evenhotels.com","fastbookings.biz","hiclubvacations.com","hiexpress.com","hilton.com","holidayinn.com","holidayinnresorts.com","holidayinnsunspree.com","holidayinselect.com","hotelindigo.com","ichotelsgroup.com","ihg.com","ihotelier.com","intercontinental.com","marriott.com","myhotelreservation.net","priorityclub.com","res.windsurfercrs.com","reservations.travelclick.com","reservations.verticalbooking.com","reseze.net","staybridge.com","synxis.com","thebookingbutton.com","totalrewards.com","webhotel.microsapdc.com","wyndhamhotels.com","xnhotels.com","yourreservation.net"],socialLinksRegEx:null,socialLinksList:["wechat.com","whatsapp.com","snapchat.com","xiaohongshu.com","weibo.com","hi5.com","facebook.com","Instagram.com","Tripadvisor.com","Yelp.com","Twitter.com","Naver.com","Reddit.com","Pinterest.com","Youtube.com","Buzzfeed.com","Blogger.com","Foursquare.com","Ameba","Wordpress.com","Meetup.com","Internations.org","Glassdoor.com","Getpocket.com","Wikia.com","feministing.com","typepad.com","linkedin.com"],positionLookAtTable:{horizontal:{left:3.334,center:1.4285,right:1},vertical:{top:3.334,middle:1.4285,bottom:1}},calculateElementPosition:function(e){var t={},o=window.innerHeight/e.offset().top,n=window.innerWidth/e.offset().left;return o<this.positionLookAtTable.vertical.middle?t.vertical="bottom":o>this.positionLookAtTable.vertical.middle&&o<this.positionLookAtTable.vertical.top?t.vertical="middle":t.vertical="top",n<this.positionLookAtTable.horizontal.center?t.horizontal="right":n>this.positionLookAtTable.horizontal.center&&n<this.positionLookAtTable.horizontal.left?t.horizontal="center":t.horizontal="left",t.vertical+"-"+t.horizontal},event:{event:"GAEvent",eventCategory:null,eventAction:null,eventLabel:null,eventValue:void 0},dev:function(e){this.debug&&console.log(e)},pushToDataLayer:function(e){e.event="GAEvent",this.dev(e),"undefined"!=typeof dataLayer&&(dataLayer.push(e),this.dev("pushed!"))},pushInfoToDataLayer:function(e){this.dev(e),"undefined"!=typeof dataLayer&&(dataLayer.push(e),this.dev("pushed!"))},setBookingEngineRegEx:function(){this.bookingEnginesRegEx=new RegExp("("+this.bookingEnginesRegExList.join("|")+")","i")},setSocialLinksRegEx:function(){this.socialLinksRegEx=new RegExp("("+this.socialLinksList.join("|")+")","i")},events:{registerLoyaltyProgramStepSuccess:function(){r.pushToDataLayer({eventCategory:"Loyalty program",eventAction:"Register",eventLabel:"Submitted OK"})},gmsVerificationOK:function(){r.pushToDataLayer({eventCategory:"Loyalty program",eventAction:"Register",eventLabel:"Double Opt-in verification OK"})},signinError:function(e){r.pushToDataLayer({eventCategory:"Error",eventAction:"Loyalty program log in error",eventLabel:"Clicked on: ".concat(a(),"_ error: ").concat(e.msg)})},signupError:function(e){r.pushToDataLayer({eventCategory:"Error",eventAction:"Loyalty program register error",eventLabel:"Clicked on: ".concat(a())})},bookingMaskSubmit:function(e){r.pushToDataLayer({eventCategory:"Click to BE",eventAction:"Booking Mask",eventLabel:"Clicked on: ".concat(n(),"_").concat(a(),"_").concat(e.buttonText,"_").concat(e.position)})},bookingIntention:function(e){var t,o,n,a,i,c,l,s,g;e.dateIn&&e.dateOut&&(o=e.dateIn,n=e.dateOut,a=o.split("/"),i=n.split("/"),c={year:a[2],monthIndex:parseInt(a[0])-1,day:a[1]},l={year:i[2],monthIndex:parseInt(i[0])-1,day:i[1]},s=new Date(c.year,c.monthIndex,c.day),g=new Date(l.year,l.monthIndex,l.day),t=Math.round((g-s)/864e5)),r.pushToDataLayer({eventCategory:"Booking Intention",eventAction:e.dateIn+" - "+e.dateOut,eventLabel:"num. nights:".concat(t||"","_").concat(e.adults||"","ad_").concat(e.rooms||"","r_").concat(e.children||"","ch_").concat(e.code||"","-code")})},switchLanguage:function(e){r.pushToDataLayer({eventCategory:"user_behavior",eventAction:"language",eventLabel:"Clicked on: ".concat(n(),"_").concat(a(),"_").concat(e.languageId)})},formSubmissionsError:function(e){e.message&&r.pushToDataLayer({eventCategory:"Error",eventAction:"Form submission",eventLabel:"Submitted on: ".concat(n(),"_").concat(a(),"_error: ").concat(e.message)})},bookingMaskError:function(e){e.message&&r.pushToDataLayer({eventCategory:"Error",eventAction:"Click to BE",eventLabel:"Clicked on:".concat(n(),"_").concat(a(),"_ error: ").concat(e.message)})}}};window.GalaxyEventTracking=r}]);
